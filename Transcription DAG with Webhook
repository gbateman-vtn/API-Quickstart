mutation createCognitionJob {
    createJob(input: {
      target: {name: "test"}
      clusterId :"rt-1cdc1d6d-a500-467a-bc46-d3c5bf3d6901"
      tasks: [
        {
          # webstream adapter
          engineId: "9e611ad7-2d3b-48f6-a51b-0a1ba40fe255"
          payload: { url: ""}
          ioFolders: [
            { referenceId: "wsaOutputFolder", mode: stream, type: output }
          ]
          executionPreferences: { priority:-10 }
        }
        {
          # Ingester engine to break audio into 20 second chunks
          engineId: "8bdb0e3b-ff28-4f6e-a3ba-887bd06e6440"
          payload:{
            ffmpegTemplate: "audio"
            customFFMPEGProperties: { chunkSizeInSeconds: "900" }
          }
          ioFolders: [
            { referenceId: "siInputFolder", mode: stream, type: input }
            { referenceId: "siOutputFolder", mode: chunk, type: output }
          ]
          executionPreferences: { parentCompleteBeforeStarting: true, priority:-10 }
        }
        { # Transcription
          engineId: "c0e55cde-340b-44d7-bb42-2e0d65e98255"
          ioFolders: [
            { referenceId: "engineInputFolder", mode: chunk, type: input }
            { referenceId: "engineOutputFolder", mode: chunk, type: output }
          ]
          executionPreferences: { parentCompleteBeforeStarting: true, priority:-10 }
        }
        {
          # Output writer
          engineId: "8eccf9cc-6b6d-4d7d-8cb3-7ebf4950c5f3"
          executionPreferences: { parentCompleteBeforeStarting: true, priority:-10 }
          ioFolders: [
            { referenceId: "owInputFolder", mode: chunk, type: input }
          ],
          notificationUris: ["webhook_url"] # req.query.jobId is the property that you can access to pull job results
        }
      ]
      routes: [
        { 
          # adapter --> chunker
          parentIoFolderReferenceId: "wsaOutputFolder"
          childIoFolderReferenceId: "siInputFolder"
          options: {}
        }
        { 
          # chunker --> engine
          parentIoFolderReferenceId: "siOutputFolder"
          childIoFolderReferenceId: "engineInputFolder"
          options: {}
        }
        { 
          # engine --> output writer
          parentIoFolderReferenceId: "engineOutputFolder"
          childIoFolderReferenceId: "owInputFolder"
          options: {}
        }
      ]
    }){
      id
      targetId
}}
